package com.busanit501.hello_project._3jdbc.dao;

import com.busanit501.hello_project._3jdbc.domain.TodoVO;
import lombok.Cleanup;

import java.sql.*;
import java.util.ArrayList;
import java.util.List;

// ğŸ›ï¸ í´ë˜ìŠ¤(Class)   ğŸ› ï¸ ë©”ì„œë“œ(Method)   ğŸ“¦ íŒ¨í‚¤ì§€(Package)   ğŸ“¨ VO(Value Object)   ğŸ§° ë‚´ì¥í•¨ìˆ˜(Built-in)   ğŸ”‘ í‚¤ì›Œë“œ(Keyword)
// â¡ï¸ í˜¸ì¶œ(Calls)   â¬…ï¸ í˜¸ì¶œë¨(Called by)   ğŸ”„ ë°˜í™˜(Return)
// ğŸŸ¡ ì—°ê´€(Related)   ğŸŸ¢ ë…ë¦½(Standalone)   ğŸ”´ ê°•í•œì˜ì¡´(Strong Dependency)
// ^ ê°€ë…ì„±(Readability)   >> ê´€ë¡€(Convention)   V ì •ìƒì‘ë™(Valid)   + ì´ìµ(Benefit)   - ë°©ì§€(Prevention)

// [C] ğŸ›ï¸TodoDAO: Todo ê´€ë ¨ DB ì‘ì—…ì„ ë‹´ë‹¹í•˜ëŠ” DAO í´ë˜ìŠ¤ë¥¼ ì •ì˜í•˜ë¼.
// [P] +ğŸŸ¡ DB ì ‘ê·¼ ë¡œì§ ë¶„ë¦¬(ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê³¼ ë°ì´í„° ì ‘ê·¼ì˜ ë¶„ë¦¬, ìœ ì§€ë³´ìˆ˜ì„±â†‘) (F: ê³„ì¸µ ë¶„ë¦¬, ì¬ì‚¬ìš©ì„±)
// [F] (ê³„ì¸µ ë¶„ë¦¬/ì¬ì‚¬ìš©ì„±, +ğŸŸ¡) DB ì‘ì—…ì„ ë³„ë„ í´ë˜ìŠ¤ë¡œ ë¶„ë¦¬í•¨ìœ¼ë¡œì¨, ì„œë¹„ìŠ¤/ì»¨íŠ¸ë¡¤ëŸ¬ì™€ì˜ ê²°í•©ë„ë¥¼ ë‚®ì¶”ê³  ì¬ì‚¬ìš©ì„±ì„ ë†’ì¸ë‹¤.
// [T] ğŸ›ï¸í´ë˜ìŠ¤, ì´ë¦„/êµ¬ì¡° ë³€ê²½ ê°€ëŠ¥
// [R]
// â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
// â”‚ ğŸŸ¡ ì—°ê´€     â”‚ â¬…ï¸ í˜¸ì¶œë¨    â”‚ ğŸ›ï¸TodoService.java, ğŸ®Controller ê³„ì¸µ         â”‚
// â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
// ë ˆì´ì–´: [DAO][Service][Controller]
// ì„¤ëª…: ì„œë¹„ìŠ¤/ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ DAOì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ DB ì‘ì—…ì„ ìœ„ì„í•¨
public class TodoDAO {
    // [C] ğŸ› ï¸getTime: DB ì„œë²„ì˜ í˜„ì¬ ì‹œê°„ì„ ì¡°íšŒí•˜ëŠ” ë©”ì„œë“œë¥¼ êµ¬í˜„í•˜ë¼.
    // [P] +ğŸŸ¡ DB ì—°ê²° ë° ì‹œê°„ ë™ê¸°í™”(ì„œë²„-í´ë¼ì´ì–¸íŠ¸ ì‹œê°„ ì¼ì¹˜) (F: ë°ì´í„° ë™ê¸°í™”)
    // [F] (ë°ì´í„° ë™ê¸°í™”, +ğŸŸ¡) DB ì„œë²„ì˜ í˜„ì¬ ì‹œê°„ì„ ì¡°íšŒí•˜ì—¬, ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ ê°„ ì‹œê°„ ì°¨ì´ë¡œ ì¸í•œ ë¬¸ì œë¥¼ ì˜ˆë°©í•œë‹¤.
    // [T] ğŸ› ï¸ë©”ì„œë“œ, String, ë°˜í™˜íƒ€ì…/ë¡œì§ ë³€ê²½ ê°€ëŠ¥
    // [R]
    // â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    // â”‚ ğŸŸ¡ ì—°ê´€     â”‚ â¬…ï¸ í˜¸ì¶œë¨    â”‚ ğŸ›ï¸TodoService.java, ğŸ®Controller ê³„ì¸µ         â”‚
    // â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    // ë ˆì´ì–´: [DAO][Service][Controller]
    // ì„¤ëª…: ì„œë¹„ìŠ¤/ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ getTime()ì„ í˜¸ì¶œí•˜ì—¬ DB ì„œë²„ì˜ í˜„ì¬ ì‹œê°„ì„ ê°€ì ¸ê°
    public String getTime() {
        // [C] DBë¡œë¶€í„° ì „ë‹¬ë°›ì€ ì‹œê°„ì„ ë‹´ì„ ì„ì‹œ ë³€ìˆ˜ë¥¼ ì„ ì–¸í•˜ë¼.
        // [P] + ë°ì´í„° ì„ì‹œ ì €ì¥(ê°€ë…ì„±â†‘, ìœ ì§€ë³´ìˆ˜ì„±â†‘) (F: ì„ì‹œ ì €ì¥, ê°€ë…ì„±)
        // [F] (ì„ì‹œ ì €ì¥/ê°€ë…ì„±, +) ì¿¼ë¦¬ ê²°ê³¼ë¥¼ ì„ì‹œ ë³€ìˆ˜ì— ì €ì¥í•˜ì—¬ ì½”ë“œì˜ ëª…í™•ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ì„±ì„ ë†’ì¸ë‹¤.
        // [T] ë³€ìˆ˜, String, ì´ë¦„/íƒ€ì… ë³€ê²½ ê°€ëŠ¥
        // [R] * ë…ë¦½
        String now = null;
        // [C] DB ì—°ê²° ë° ì¿¼ë¦¬ ì‹¤í–‰, ìì› ìë™ ë°˜ë‚©ì„ êµ¬í˜„í•˜ë¼.
        // [P] - ìì› ëˆ„ìˆ˜ ë°©ì§€(try-with-resources, @Cleanup ë“±) (F: ìì› ê´€ë¦¬, ì•ˆì •ì„±)
        // [F] (ìì› ê´€ë¦¬/ì•ˆì •ì„±, -) try-with-resourcesë¥¼ ì‚¬ìš©í•´ DB ì—°ê²°/ì¿¼ë¦¬/ê²°ê³¼ì…‹ ìì›ì„ ìë™ ë°˜ë‚©í•˜ì—¬, ìì› ëˆ„ìˆ˜ë¡œ ì¸í•œ ì¥ì• ë¥¼ ì˜ˆë°©í•œë‹¤.
        // [T] ğŸ§°ë‚´ì¥í•¨ìˆ˜, try-with-resources, ë³€ê²½ ê°€ëŠ¥
        // [R] * ë…ë¦½
        try(Connection connection = ConnectionUtil.INSTANCE.getConnection();
            PreparedStatement pstmt = connection.prepareStatement("select now()");
            ResultSet rs = pstmt.executeQuery();){
            rs.next();
            now = rs.getString(1);
        } catch (Exception e) {
            e.printStackTrace();
        }
        return now;
    } //getTime

    // [C] ğŸ› ï¸getTime2: @Cleanupì„ ì´ìš©í•œ DB ì‹œê°„ ì¡°íšŒ ë©”ì„œë“œë¥¼ êµ¬í˜„í•˜ë¼.
    // [P] >> ë¡¬ë³µ ê´€ë¡€ í™œìš©(ì½”ë“œ ê°„ê²°ì„±â†‘, ìì› ê´€ë¦¬â†‘) (F: ê´€ë¡€, ê°„ê²°ì„±)
    // [F] (ê´€ë¡€/ê°„ê²°ì„±, >>) @Cleanupì„ ì‚¬ìš©í•´ try-with-resourcesë¥¼ ëŒ€ì²´, ì½”ë“œê°€ ê°„ê²°í•´ì§€ê³  ìì› ê´€ë¦¬ê°€ ì‰¬ì›Œì§„ë‹¤.
    // [T] ğŸ› ï¸ë©”ì„œë“œ, String, ë°˜í™˜íƒ€ì…/ë¡œì§ ë³€ê²½ ê°€ëŠ¥
    // [R]
    // â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    // â”‚ ğŸŸ¡ ì—°ê´€     â”‚ â¬…ï¸ í˜¸ì¶œë¨    â”‚ ğŸ›ï¸TodoService.java, ğŸ®Controller ê³„ì¸µ         â”‚
    // â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    // ë ˆì´ì–´: [DAO][Service][Controller]
    // ì„¤ëª…: ì„œë¹„ìŠ¤/ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ getTime2()ë¥¼ í˜¸ì¶œí•˜ì—¬ DB ì„œë²„ì˜ í˜„ì¬ ì‹œê°„ì„ ê°€ì ¸ê°
    public String getTime2() throws Exception {
        @Cleanup Connection connection = ConnectionUtil.INSTANCE.getConnection();
        @Cleanup PreparedStatement pstmt = connection.prepareStatement("select now()");
        @Cleanup ResultSet rs = pstmt.executeQuery();
        rs.next();
        String now = rs.getString(1);
        return now;
    } //getTime2

    // [C] ğŸ› ï¸insert: Todo ë“±ë¡ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ë¼.
    // [P] +ğŸŸ¡ ì‹ ê·œ Todo ë°ì´í„° DB ì €ì¥(ë°ì´í„° ì˜ì†ì„±â†‘) (F: ë°ì´í„° ì…ë ¥, ì˜ì†ì„±)
    // [F] (ë°ì´í„° ì…ë ¥/ì˜ì†ì„±, +ğŸŸ¡) í™”ë©´ì—ì„œ ì „ë‹¬ë°›ì€ ğŸ“¨TodoVOë¥¼ DBì— ì €ì¥í•˜ì—¬, ë°ì´í„°ì˜ ì˜ì†ì„±ê³¼ ì‹ ë¢°ì„±ì„ í™•ë³´í•œë‹¤.
    // [T] ğŸ› ï¸ë©”ì„œë“œ, void, íŒŒë¼ë¯¸í„°/ë¡œì§ ë³€ê²½ ê°€ëŠ¥
    // [R]
    // â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    // â”‚ ğŸŸ¡ ì—°ê´€     â”‚ â¬…ï¸ í˜¸ì¶œë¨    â”‚ ğŸ›ï¸TodoService.java#register(), ğŸ®Controller ê³„ì¸µ â”‚
    // â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    // ë ˆì´ì–´: [DAO][Service][Controller]
    // ì„¤ëª…: ì„œë¹„ìŠ¤/ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ insert()ë¥¼ í˜¸ì¶œí•˜ì—¬ Todo ë“±ë¡ ë¡œì§ì„ ìœ„ì„í•¨
    public void insert(TodoVO todoVO) throws Exception{
        String sql ="insert into tbl_todo (title, dueDate, finished) values (?,?,?)";
        @Cleanup Connection connection = ConnectionUtil.INSTANCE.getConnection();
        @Cleanup PreparedStatement pstmt = connection.prepareStatement(sql);
        pstmt.setString(1, todoVO.getTitle());
        pstmt.setDate(2, Date.valueOf(todoVO.getDueDate()));
        pstmt.setBoolean(3, todoVO.isFinished());
        pstmt.executeUpdate();
    } // insert

    // [C] ğŸ› ï¸selectAll: ì „ì²´ Todo ëª©ë¡ì„ ì¡°íšŒí•˜ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ë¼.
    // [P] +ğŸŸ¡ ì „ì²´ ë°ì´í„° ì¡°íšŒ(ì‚¬ìš©ìì—ê²Œ ì „ì²´ ëª©ë¡ ì œê³µ) (F: ë°ì´í„° ì¡°íšŒ, ì‚¬ìš©ì í¸ì˜)
    // [F] (ë°ì´í„° ì¡°íšŒ/ì‚¬ìš©ì í¸ì˜, +ğŸŸ¡) DBì—ì„œ ì „ì²´ Todo ë°ì´í„°ë¥¼ ë¦¬ìŠ¤íŠ¸ë¡œ ë°˜í™˜í•˜ì—¬, ì‚¬ìš©ìê°€ ëª¨ë“  Todoë¥¼ í•œëˆˆì— ë³¼ ìˆ˜ ìˆê²Œ í•œë‹¤. ê²°ê³¼ì ìœ¼ë¡œ ì—…ë¬´ íŒŒì•…ê³¼ ê´€ë¦¬ê°€ ìš©ì´í•´ì§„ë‹¤.
    // [T] ğŸ› ï¸ë©”ì„œë“œ, List<ğŸ“¨TodoVO>, ë°˜í™˜íƒ€ì…/ë¡œì§ ë³€ê²½ ê°€ëŠ¥
    // [R]
    // â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    // â”‚ ğŸŸ¡ ì—°ê´€     â”‚ â¬…ï¸ í˜¸ì¶œë¨    â”‚ ğŸ›ï¸TodoService.java#getList(), ğŸ®Controller ê³„ì¸µ â”‚
    // â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    // ë ˆì´ì–´: [DAO][Service][Controller]
    // ì„¤ëª…: ì„œë¹„ìŠ¤/ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ selectAll()ì„ í˜¸ì¶œí•˜ì—¬ ì „ì²´ Todo ëª©ë¡ì„ ê°€ì ¸ê°
    public List<TodoVO> selectAll() throws Exception{
        String sql ="select * from tbl_todo";
        @Cleanup Connection connection = ConnectionUtil.INSTANCE.getConnection();
        @Cleanup PreparedStatement pstmt = connection.prepareStatement(sql);
        @Cleanup ResultSet rs = pstmt.executeQuery();
        List<TodoVO> list = new ArrayList<>();
        while(rs.next()){
            TodoVO vo = TodoVO.builder()
                    .tno(rs.getLong("tno"))
                    .title(rs.getString("title"))
                    .dueDate(rs.getDate("dueDate").toLocalDate())
                    .finished(rs.getBoolean("finished"))
                    .build();
            list.add(vo);
        }
        return list;
    }

    // [C] ğŸ› ï¸selectOne: tnoë¡œ Todoë¥¼ í•˜ë‚˜ ì¡°íšŒí•˜ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ë¼.
    // [P] +ğŸŸ¡ íŠ¹ì • ë°ì´í„° ì¡°íšŒ(ìƒì„¸ ì •ë³´ ì œê³µ) (F: ë°ì´í„° ì¡°íšŒ, ìƒì„¸ ì •ë³´)
    // [F] (ë°ì´í„° ì¡°íšŒ/ìƒì„¸ ì •ë³´, +ğŸŸ¡) tno ê°’ì„ ë°›ì•„ í•´ë‹¹ Todoì˜ ìƒì„¸ ì •ë³´ë¥¼ ë°˜í™˜í•œë‹¤. ê²°ê³¼ì ìœ¼ë¡œ ì‚¬ìš©ìëŠ” ì›í•˜ëŠ” Todoì˜ ì„¸ë¶€ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
    // [T] ğŸ› ï¸ë©”ì„œë“œ, ğŸ“¨TodoVO, ë°˜í™˜íƒ€ì…/ë¡œì§ ë³€ê²½ ê°€ëŠ¥
    // [R]
    // â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    // â”‚ ğŸŸ¡ ì—°ê´€     â”‚ â¬…ï¸ í˜¸ì¶œë¨    â”‚ ğŸ›ï¸TodoService.java#getTodoByTno(), ğŸ®Controller ê³„ì¸µ â”‚
    // â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    // ë ˆì´ì–´: [DAO][Service][Controller]
    // ì„¤ëª…: ì„œë¹„ìŠ¤/ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ selectOne()ì„ í˜¸ì¶œí•˜ì—¬ íŠ¹ì • Todoì˜ ìƒì„¸ ì •ë³´ë¥¼ ê°€ì ¸ê°
    public TodoVO selectOne(Long tno) throws Exception{
        String sql = "select * from tbl_todo where tno=?";
        @Cleanup Connection connection = ConnectionUtil.INSTANCE.getConnection();
        @Cleanup PreparedStatement pstmt = connection.prepareStatement(sql);
        pstmt.setLong(1, tno);
        @Cleanup ResultSet rs = pstmt.executeQuery();
        rs.next();
        TodoVO vo = TodoVO.builder()
                .tno(rs.getLong("tno"))
                .title(rs.getString("title"))
                .dueDate(rs.getDate("dueDate").toLocalDate())
                .build();
        return vo;
    }

    // [C] ğŸ› ï¸deleteOne: Todo ì‚­ì œ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ë¼.
    // [P] -ğŸŸ¡ ë¶ˆí•„ìš”í•œ ë°ì´í„° ë°©ì§€(ë°ì´í„° ì •í•©ì„±â†‘) (F: ë°ì´í„° ì •í•©ì„±, ë°©ì§€)
    // [F] (ë°ì´í„° ì •í•©ì„±/ë°©ì§€, -ğŸŸ¡) tnoë¡œ íŠ¹ì • Todoë¥¼ ì‚­ì œí•˜ì—¬, ë¶ˆí•„ìš”í•œ ë°ì´í„°ê°€ ìŒ“ì´ëŠ” ê²ƒì„ ë°©ì§€í•˜ê³  ë°ì´í„° ì •í•©ì„±ì„ ìœ ì§€í•œë‹¤.
    // [T] ğŸ› ï¸ë©”ì„œë“œ, void, íŒŒë¼ë¯¸í„°/ë¡œì§ ë³€ê²½ ê°€ëŠ¥
    // [R]
    // â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    // â”‚ ğŸŸ¡ ì—°ê´€     â”‚ â¬…ï¸ í˜¸ì¶œë¨    â”‚ ğŸ›ï¸TodoService.java#deleteOne(), ğŸ®Controller ê³„ì¸µ â”‚
    // â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    // ë ˆì´ì–´: [DAO][Service][Controller]
    // ì„¤ëª…: ì„œë¹„ìŠ¤/ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ deleteOne()ì„ í˜¸ì¶œí•˜ì—¬ Todo ì‚­ì œ ë¡œì§ì„ ìœ„ì„í•¨
    public void deleteOne(Long tno) throws Exception{
        String sql = "delete from tbl_todo where tno=?";
        @Cleanup Connection connection = ConnectionUtil.INSTANCE.getConnection();
        @Cleanup PreparedStatement pstmt = connection.prepareStatement(sql);
        pstmt.setLong(1, tno);
        pstmt.executeUpdate();
    }

    // [C] ğŸ› ï¸updateOne: Todo ìˆ˜ì • ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ë¼.
    // [P] +ğŸŸ¡ ë°ì´í„° ìµœì‹ í™”(ì •í™•í•œ ì •ë³´ ì œê³µ) (F: ë°ì´í„° ìµœì‹ í™”, ì‹ ë¢°ì„±)
    // [F] (ë°ì´í„° ìµœì‹ í™”/ì‹ ë¢°ì„±, +ğŸŸ¡) í™”ë©´ì—ì„œ ì „ë‹¬ë°›ì€ ğŸ“¨TodoVOë¡œ DBì˜ Todo ì •ë³´ë¥¼ ìµœì‹  ìƒíƒœë¡œ ê°±ì‹ í•˜ì—¬, ì‚¬ìš©ìì—ê²Œ ì •í™•í•œ ì •ë³´ë¥¼ ì œê³µí•œë‹¤.
    // [T] ğŸ› ï¸ë©”ì„œë“œ, void, íŒŒë¼ë¯¸í„°/ë¡œì§ ë³€ê²½ ê°€ëŠ¥
    // [R]
    // â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    // â”‚ ğŸŸ¡ ì—°ê´€     â”‚ â¬…ï¸ í˜¸ì¶œë¨    â”‚ ğŸ›ï¸TodoService.java#updateOne(), ğŸ®Controller ê³„ì¸µ â”‚
    // â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    // ë ˆì´ì–´: [DAO][Service][Controller]
    // ì„¤ëª…: ì„œë¹„ìŠ¤/ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ updateOne()ì„ í˜¸ì¶œí•˜ì—¬ Todo ìˆ˜ì • ë¡œì§ì„ ìœ„ì„í•¨
    public void updateOne(TodoVO todoVO) throws Exception{
        String sql = "update tbl_todo set title=?, dueDate=?, finished=? where tno=?";
        @Cleanup Connection connection = ConnectionUtil.INSTANCE.getConnection();
        @Cleanup PreparedStatement pstmt = connection.prepareStatement(sql);
        pstmt.setString(1, todoVO.getTitle());
        pstmt.setDate(2, Date.valueOf(todoVO.getDueDate()));
        pstmt.setBoolean(3, todoVO.isFinished());
        pstmt.setLong(4, todoVO.getTno());
        pstmt.executeUpdate();
    }

}
